{"ast":null,"code":"import _regeneratorRuntime from \"C:/Source Training React/Project training/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Source Training React/Project training/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _slicedToArray from \"C:/Source Training React/Project training/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport PostsList from \"../components/PostsList\";\nvar useHttp = function useHttp(requestConfig, applyData) {\n  _s();\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    isLoading = _useState2[0],\n    setIsLoading = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    error = _useState4[0],\n    setError = _useState4[1];\n  var fetchPostsHandler = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(url, requestBody) {\n      var requestUrl, requestOptios, response;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            setIsLoading(true);\n            setError(null);\n            requestUrl = url !== null && url !== void 0 ? url : requestConfig.url;\n            requestOptios = {\n              method: requestConfig.method,\n              headers: requestConfig.headers ? requestConfig.headers : {},\n              body: requestBody ? JSON.stringify(requestBody) : requestConfig.body ? JSON.stringify(requestConfig.body) : null\n            };\n            _context.prev = 4;\n            _context.next = 7;\n            return fetch(requestUrl, requestOptios).then(function (value) {\n              console.log(value);\n              if (!value.ok) {\n                throw new Error(\"Something went wrong!\");\n              }\n              var data = value.th;\n              console.log('data', data);\n              applyData(data);\n            });\n          case 7:\n            response = _context.sent;\n            _context.next = 14;\n            break;\n          case 10:\n            _context.prev = 10;\n            _context.t0 = _context[\"catch\"](4);\n            console.log(_context.t0);\n            setError(_context.t0.message);\n          case 14:\n            setIsLoading(false);\n          case 15:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee, null, [[4, 10]]);\n    }));\n    return function fetchPostsHandler(_x, _x2) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  return {\n    isLoading: isLoading,\n    error: error,\n    fetchPostsHandler: fetchPostsHandler\n  };\n};\n_s(useHttp, \"vj++RuHna9NxFPGCY0p/mi1GZNM=\");\nexport default useHttp;","map":{"version":3,"names":["useState","PostsList","useHttp","requestConfig","applyData","_s","_useState","_useState2","_slicedToArray","isLoading","setIsLoading","_useState3","_useState4","error","setError","fetchPostsHandler","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","url","requestBody","requestUrl","requestOptios","response","wrap","_callee$","_context","prev","next","method","headers","body","JSON","stringify","fetch","then","value","console","log","ok","Error","data","th","sent","t0","message","stop","_x","_x2","apply","arguments"],"sources":["C:/Source Training React/Project training/src/hooks/use-http.js"],"sourcesContent":["import { useState } from \"react\";\r\nimport PostsList from \"../components/PostsList\";\r\n\r\nconst useHttp = (requestConfig, applyData) => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  const fetchPostsHandler = async (url, requestBody) => {\r\n    setIsLoading(true);\r\n    setError(null);\r\n    const requestUrl = url ?? requestConfig.url;\r\n    const requestOptios = {\r\n      method: requestConfig.method,\r\n      headers: requestConfig.headers ? requestConfig.headers : {},\r\n      body: requestBody ? JSON.stringify(requestBody) : requestConfig.body ? JSON.stringify(requestConfig.body) : null\r\n    }\r\n    try {\r\n      const response = await fetch(requestUrl, requestOptios).then((value) => {\r\n        console.log(value);\r\n        if (!value.ok) {\r\n          throw new Error(\"Something went wrong!\");\r\n        }\r\n  \r\n        const data = value.th\r\n        console.log('data', data);\r\n  \r\n        applyData(data);\r\n      });\r\n    } catch (error) {\r\n      console.log(error)\r\n      setError(error.message);\r\n    }\r\n    setIsLoading(false);\r\n  };\r\n\r\n  return {\r\n    isLoading,\r\n    error,\r\n    fetchPostsHandler\r\n  };\r\n};\r\n\r\nexport default useHttp;\r\n"],"mappings":";;;;AAAA,SAASA,QAAQ,QAAQ,OAAO;AAChC,OAAOC,SAAS,MAAM,yBAAyB;AAE/C,IAAMC,OAAO,GAAG,SAAVA,OAAOA,CAAIC,aAAa,EAAEC,SAAS,EAAK;EAAAC,EAAA;EAC5C,IAAAC,SAAA,GAAkCN,QAAQ,CAAC,KAAK,CAAC;IAAAO,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAA1CG,SAAS,GAAAF,UAAA;IAAEG,YAAY,GAAAH,UAAA;EAC9B,IAAAI,UAAA,GAA0BX,QAAQ,CAAC,IAAI,CAAC;IAAAY,UAAA,GAAAJ,cAAA,CAAAG,UAAA;IAAjCE,KAAK,GAAAD,UAAA;IAAEE,QAAQ,GAAAF,UAAA;EAEtB,IAAMG,iBAAiB;IAAA,IAAAC,IAAA,GAAAC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAOC,GAAG,EAAEC,WAAW;MAAA,IAAAC,UAAA,EAAAC,aAAA,EAAAC,QAAA;MAAA,OAAAP,mBAAA,GAAAQ,IAAA,UAAAC,SAAAC,QAAA;QAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YAC/CpB,YAAY,CAAC,IAAI,CAAC;YAClBI,QAAQ,CAAC,IAAI,CAAC;YACRS,UAAU,GAAGF,GAAG,aAAHA,GAAG,cAAHA,GAAG,GAAIlB,aAAa,CAACkB,GAAG;YACrCG,aAAa,GAAG;cACpBO,MAAM,EAAE5B,aAAa,CAAC4B,MAAM;cAC5BC,OAAO,EAAE7B,aAAa,CAAC6B,OAAO,GAAG7B,aAAa,CAAC6B,OAAO,GAAG,CAAC,CAAC;cAC3DC,IAAI,EAAEX,WAAW,GAAGY,IAAI,CAACC,SAAS,CAACb,WAAW,CAAC,GAAGnB,aAAa,CAAC8B,IAAI,GAAGC,IAAI,CAACC,SAAS,CAAChC,aAAa,CAAC8B,IAAI,CAAC,GAAG;YAC9G,CAAC;YAAAL,QAAA,CAAAC,IAAA;YAAAD,QAAA,CAAAE,IAAA;YAAA,OAEwBM,KAAK,CAACb,UAAU,EAAEC,aAAa,CAAC,CAACa,IAAI,CAAC,UAACC,KAAK,EAAK;cACtEC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;cAClB,IAAI,CAACA,KAAK,CAACG,EAAE,EAAE;gBACb,MAAM,IAAIC,KAAK,CAAC,uBAAuB,CAAC;cAC1C;cAEA,IAAMC,IAAI,GAAGL,KAAK,CAACM,EAAE;cACrBL,OAAO,CAACC,GAAG,CAAC,MAAM,EAAEG,IAAI,CAAC;cAEzBvC,SAAS,CAACuC,IAAI,CAAC;YACjB,CAAC,CAAC;UAAA;YAVIlB,QAAQ,GAAAG,QAAA,CAAAiB,IAAA;YAAAjB,QAAA,CAAAE,IAAA;YAAA;UAAA;YAAAF,QAAA,CAAAC,IAAA;YAAAD,QAAA,CAAAkB,EAAA,GAAAlB,QAAA;YAYdW,OAAO,CAACC,GAAG,CAAAZ,QAAA,CAAAkB,EAAM,CAAC;YAClBhC,QAAQ,CAACc,QAAA,CAAAkB,EAAA,CAAMC,OAAO,CAAC;UAAC;YAE1BrC,YAAY,CAAC,KAAK,CAAC;UAAC;UAAA;YAAA,OAAAkB,QAAA,CAAAoB,IAAA;QAAA;MAAA,GAAA5B,OAAA;IAAA,CACrB;IAAA,gBA1BKL,iBAAiBA,CAAAkC,EAAA,EAAAC,GAAA;MAAA,OAAAlC,IAAA,CAAAmC,KAAA,OAAAC,SAAA;IAAA;EAAA,GA0BtB;EAED,OAAO;IACL3C,SAAS,EAATA,SAAS;IACTI,KAAK,EAALA,KAAK;IACLE,iBAAiB,EAAjBA;EACF,CAAC;AACH,CAAC;AAACV,EAAA,CArCIH,OAAO;AAuCb,eAAeA,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}